doctype html
html
  head
    title= title
    link(rel='stylesheet', href='/stylesheets/style.css')
    link(rel='stylesheet', href='/stylesheets/matchInfo.css')
    link(rel='stylesheet', href='/stylesheets/summonerInfo.css')
    link(rel='stylesheet', href='/stylesheets/responsive.css')
    link(rel='stylesheet', href='/stylesheets/gnb.css')
    link(rel='stylesheet', href='/stylesheets/footer.css')
    link(rel='stylesheet', href='/stylesheets/tooltip.css')
    link(rel='stylesheet', href='/stylesheets/champMastery.css')
    script(src='https://code.jquery.com/jquery-3.5.1.min.js')
    script(src="/javascripts/summonerInfo/addSummoner.js")
    script.
      $(()=>{
        var game_times = $(".game_times").val();
        var submit_number = 0;

        $('.game_form').submit((e) => {
          e.preventDefault();
            if(submit_number<3){
              add_Summoner(submit_number);
              submit_number++;
            }else{
              alert("더 이상 불러올 정보가 없습니다.");
            }
        });
        
        for(var i=0;i<game_times;i++){
          if( $(`.win_fail_check${i}`).text() === '패배'){
            $(`.gameRecord_con${i}`).css("background-color","#ef9a9a ");
          }else{
            $(`.gameRecord_con${i}`).css("background-color","#90caf9");
          }
        }
        //소환사 정보 승률
        for(var i=0;i<2;i++){
          var winningRate = $(`.summonerInfo_win${i}`).val()*1/($(`.summonerInfo_lose${i}`).val()*1+$(`.summonerInfo_win${i}`).val()*1);
          winningRate = winningRate*100;
          winningRate = winningRate.toFixed(0);

          $(`.summonerInfo_rate${i}`).text("승률 " + winningRate+"%");
        }

      })  
  body
    include ../cmmn/gnb  
    block content
    include addSummonerButton
    include ../cmmn/footer
    
